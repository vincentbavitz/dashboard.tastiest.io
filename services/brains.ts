/*
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒░░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░░░░░▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░▒▒▒░░░░░░▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░▒▒▒░░░░▒▒░░░░░░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░▒▓░░░░░░▒▒░░░░░░░░░░░░░░░░░░░▒▒░░░░░░░░░░░░░░░░░░░░▒▒░░░░░░░░░░░░░░░░
░░░░░░░░░░▒▒░░░▒▒░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░▓▒▒▒░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░░░░░▒▒░░░░░░░░░░░
░░░░░░░░▒▒░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒░░░░▓░░░░░░░░░░
░░░░░░▒▒▒░░░░░░░░▒░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░▒▒░░░░░░░░
░░░░▒▓▒░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░▒░░░░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒░░░░░░░
░░░▒▓▒░░░░░░░▒░░░░░░░░░░░░░░▒░░░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░▒▒░░░░░░
░░░▓░░░░░░░░░▒░▒░░░░░▒░░░░░░░▒░░░░▓░░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░▓▒░░░░░
░░▒▓░░░░░░░░░░░░░░░▓░░░░░░░░░░░░░░░░░░░░▒░░░░▒░░░░░░░░░░░░░▒░░░░░░░░░▒░▒░░▓░░░░░
░░▓░░░░░░░░░░░░░░░░▒░░░░░▒░░░░░░░░░░░░░░░░░░░▒░░░░░░░░▒▒░░░▒░░░░░░░░░░▒░░░░▓░░░░
░░▓░░░░░░░░░░░░░▒░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░▒░░░░░░░░░░░░░░░░░░░▓░░░░
░▒▒░░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░▒░░░░░░░░░░░░░░░░░▓░░░
░▒▒░░░▒░░░░▒░░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░▓░░░
░▒▒░░░▒░░░░▒░░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░▒░░░░░░░░░░░░░░░░░░▓░░░
░░▓░░░▒░░░░▒░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░░░▒░░░░░▒▒░░
░░▓░░░▓▒░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▓░░
░░▒▓░▒░░▒░░░░░░░░░░░░░▒▒░░░░░░░░░░░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▓▒░░
░░░▓▒░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░
░░░░▓░░░░▒░░░░░░░░░░░░░░░░░░▒░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░
░░░░░▒▒░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒░░▒▒░░░░░░░░░▒░░
░░░░░░░▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▓█░▒▓█▒▒░▓▒▒▒▒▓█▒▓▒░
░░░░░░░░░▒▓▒░░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒░░░░▒▒▒▒▒▒▒▒▒░░▓▒▒▒▒▓▒░
░░░░░░░░░░░░▒▒▒░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒░▓▒▒░▒░░░░░░░░░░░░░▒░░░░░▒░
░░░░░░░░░░░░░░░▒░░▒▒▒░░░░░░░░░░░░░░░░▒▒░▒▒▒░░░░░░▒▓░░░░▒░▒▒░░░░░░░░░░░░░░▒░░░░▒░
░░░░░░░░░░░░░░░░░░░░░▒▒▒▒░░░░░░░░░░░░░░░░░░░░▒▒▒▒░░░░░░▒░░░▒░░░░░░░░░░░░▒░░░░▒░░
░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░▒░░░░░▒░░░░░░░░░░░░░░▒░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░▒░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░▒░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░▒░░░░░░░░░░░░▒▒░░░░░░░░

BIG BRAIN is the Tastiest data-cruncher. It's responsible for utilising our
vast datasets to provide user tailoured content by inference with AI driven
predictions with a TensorFlow backend.

Big brain must only be run on the server side.

*/

import { CMS } from '../constants';
import { CmsApi } from './cms';

export default class BigBrain {
  public inferRecommendedPosts = async (
    userId: string,
    quantity = CMS.NUM_RECOMMENDED_POSTS,
  ) => {
    // Get user preferences; what do they like?
    // What has the user defined

    // Ping the TensorFlow model

    const cms = new CmsApi();
    const { posts } = await cms.getPosts(quantity);

    return posts;
  };
}
